# mac_monitoring

# about  
Macのモニタリング、ロギングのスクリプト  。
普段の作業前に起動して、終わったら止める。  
逆に放置のログ取って比較など。  

# log dir  
Mac標準のコマンドで、10秒ごとに各種リソース、プロセスのログを書き出すスクリプト。  
ログサイズは1分当たり1MBくらいなので、そこまで気にしなくて良いはず。  
ログはグラフにするならエクセルなどで手動で。  
ログは/tmp/配下に日付フォルダで。  
要らなくなったら削除を。  
/tmp/配下は時間経過か起動時かで消えるので消したく無いログは退避を。  


# steps  
- 1.デスクトップとか好きな場所に「mac_monitoring.sh」とか、好きな名前.shってテキストファイルを作成。  
- 2.スクリプト内容をコピペ、保存。不要な処理あればコメントアウト。  
- 3.Mac標準のターミナルを起動。  
- 4.「chmod 755 」と打った後に、作成したスクリプトをドラックアンドドロップ。  
 - →例「chmod 755 /Users/user01/Desktop/monitoring.sh」  
- 5.作成したスクリプトファイルをターミナルにドラックアンドドロップして、エンター。  
- 6.モニタリング開始ならy押下してエンター。  
- 7.作業しても良いし、放置しても良い。  
- 8.止めたくなったらy押下してエンター。  
- 9.ログフォルダ開くので中身を確認。ログの加工などお好みで。  

# src  
＃ソースファイル参照  

# log chk exam  
- grep "CPU usage" /*/*/*.* > /tmp/cpulog.txt  
- grep "Phy" /*/*/*.* > /tmp/memlog.txt  
- grep "written" /*/*/*.*> /tmp/diskiolog.txt  

あとはエクセルにスペース区切りで読み込んで、  
開始時間から10秒ごとにそれぞれの列を線グラフとかにするとか、  
特定のプロセスについて深く見るならps結果とか。  

以上  
